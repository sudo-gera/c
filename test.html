<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<style type="text/css">
pre {
  font-family:Courier New;
  font-size:10pt;
}

.af_line {
  color: gray;
  text-decoration: none;
}

</style>
<title>test.txt</title>
</head>
<body>
<pre>Script started on Fri Dec  1 22:53:34 2023
<span style="color:#0000ee;">22:53:34</span>:<span style="color:#cdcd00;">arm64</span>:<span style="color:#00cd00;">~</span>$ curl -s &apos;https://api.vk.com/method/docs.getMessagesUploadServer&apos; \
&gt; -F &quot;access_token=${token}&quot; \
&gt; -F &quot;v=5.199&quot; \
&gt; -F &quot;peer_id=${peer_id}&quot; \
&gt; | python3 -m json.tool
{
    &quot;response&quot;: {
        &quot;upload_url&quot;: &quot;https://pu.vk.com/c909328/upload.php?act=add_doc_new&amp;mid=-218708263&amp;aid=-1&amp;gid=0&amp;type=0&amp;peer_id=-218708263&amp;rhash=0398c5f5d2941114f0b4b792fd3dac18&amp;api=1&amp;server=909328&amp;_origin=https%3A%2F%2Fapi.vk.com&amp;_sig=b1408d610d5a1e812c0db831dd4fd050&quot;
    }
}
<span style="color:#0000ee;">22:54:18</span>:<span style="color:#cdcd00;">arm64</span>:<span style="color:#00cd00;">~</span>$ curl -s \
&gt; -F &apos;file=&#64;/Users/gera/c/test1.txt&apos; \
0&quot; \t;https://pu.vk.com/c909328/upload.php?act=add_doc_new&amp;mid=-218708263&amp;aid=-1&amp;gid=0&amp;type=0&amp;peer_id=-218708263&amp;rhash=0398c5f5d2941114f0b4b792fd3dac18&amp;api=1&amp;server=909328&amp;_origin=https%3A%2F%2Fapi.vk.com&amp;_sig=b1408d610d5a1e812c0db831dd4fd05 
&gt; | python3 -m json.tool
{
    &quot;file&quot;: &quot;-218708263|0|-1|909328|cd83e38dff|txt|22698|test1.txt|72cf6a70502728d9627ab224919327c7|32a80589d56035732173f3eb852c268a||||eyJkaXNrIjoiMzciLCJwZWVyX3NlbmRlciI6Ii0yMTg3MDgyNjMifQ==&quot;
}
<span style="color:#0000ee;">22:54:51</span>:<span style="color:#cdcd00;">arm64</span>:<span style="color:#00cd00;">~</span>$ curl -s &apos;https://api.vk.com/method/docs.save&apos; \
&gt; -F &quot;access_token=${token}&quot; \
&gt; -F &quot;v=5.199&quot; \
&gt; -F &quot;file=-218708263|0|-1|909328|cd83e38dff|txt|22698|test1.txt|72cf6a70502728d9627ab224919327c7|32a80589d56035732173f3eb852c268a||||eyJkaXNrIjoiMzciLCJwZWVyX3NlbmRlciI6Ii0yMTg3MDgyNjMifQ==&quot; \
&gt; | python3 -m json.tool
{
    &quot;response&quot;: {
        &quot;type&quot;: &quot;doc&quot;,
        &quot;doc&quot;: {
            &quot;id&quot;: 670381440,
            &quot;owner_id&quot;: -218708263,
            &quot;title&quot;: &quot;test1.txt&quot;,
            &quot;size&quot;: 22698,
            &quot;ext&quot;: &quot;txt&quot;,
            &quot;date&quot;: 1701460518,
            &quot;type&quot;: 1,
            &quot;url&quot;: &quot;https://vk.com/doc-218708263_670381440?hash=IuiCro8xKuAQGY4xyEA1ZDpcDHJyroTzwJjc0SIlwn4&amp;dl=RWc3FFRGoTeX0lfyxJFJZwXGsvBxjzzp6MzW0vQYJk8&amp;api=1&amp;no_preview=1&quot;,
            &quot;is_unsafe&quot;: 0,
            &quot;can_manage&quot;: true
        }
    }
}
<span style="color:#0000ee;">22:55:18</span>:<span style="color:#cdcd00;">arm64</span>:<span style="color:#00cd00;">~</span>$ curl -s &apos;https://api.vk.com/method/messages.send&apos; \
&gt; -F &quot;access_token=${token}&quot; \
&gt; -F &quot;v=5.199&quot; \
&gt; -F &quot;random_id=0&quot; \
&gt; -F &quot;peer_id=${peer_id}&quot; \
&gt; -F &quot;attachment=doc-${group_id}_670381440&quot; \
&gt; | python3 -m json.tool
{
    &quot;response&quot;: 0
}
<span style="color:#0000ee;">22:55:46</span>:<span style="color:#cdcd00;">arm64</span>:<span style="color:#00cd00;">~</span>$ exit

Script done on Fri Dec  1 23:06:38 2023
</pre>
</body>
</html>
<!--HTML generated by ansifilter 2.20, http://www.andre-simon.de/-->

class Module:
	def __dir__(s):
		from pathlib import Path
		try:
			ms=open(str(Path.home())+'/.python_modules_db').read().split()
		except:
			ms=[]
		return ms
	def __getattr__(s,n):
		from pathlib import Path
		mn=n.replace('___','.')
		try:
			exec('import '+mn)
			m=eval(mn)
		except:
			m=None
		try:
			ms=open(str(Path.home())+'/.python_modules_db').read().split()
		except:
			ms=[]
		if n in ms and m==None:
			ms=[w for w in ms if w!=n]
		if n not in ms and m!= None:
			ms.append(n)
		open(str(Path.home())+'/.python_modules_db','w').write(' '.join(ms))
		exec('import '+mn)
		return eval(mn)
modules=Module()

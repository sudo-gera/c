Start testing: Nov 19 22:06 MSK
----------------------------------------------------------
1/1 Testing: test_str
1/1 Test: test_str
Command: "/Users/gera/c/test_str"
Directory: /Users/gera/c/CppLanguage/tasks/str
"test_str" start time: Nov 19 22:06 MSK
Output:
----------------------------------------------------------

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
test_str is a Catch v2.13.8 host application.
Run with -? for options

-------------------------------------------------------------------------------
Constructors
  From non-empty string
-------------------------------------------------------------------------------
/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:28
...............................................................................

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:11: FAILED:
  REQUIRE( actual.Size() == expected.size() )
with expansion:
  0 == 11

-------------------------------------------------------------------------------
Constructors
  From string prefix
-------------------------------------------------------------------------------
/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:39
...............................................................................

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:11: FAILED:
  REQUIRE( actual.Size() == expected.size() )
with expansion:
  0 == 4

-------------------------------------------------------------------------------
Copy Constructor
  Copy non-empty string
-------------------------------------------------------------------------------
/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:63
...............................................................................

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:11: FAILED:
  REQUIRE( actual.Size() == expected.size() )
with expansion:
  0 == 11

-------------------------------------------------------------------------------
Operator =
  Filled to empty
-------------------------------------------------------------------------------
/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:99
...............................................................................

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:11: FAILED:
  REQUIRE( actual.Size() == expected.size() )
with expansion:
  0 == 11

-------------------------------------------------------------------------------
Operator =
  Self-assignment
-------------------------------------------------------------------------------
/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:111
...............................................................................

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:11: FAILED:
  REQUIRE( actual.Size() == expected.size() )
with expansion:
  0 == 11

-------------------------------------------------------------------------------
Operator =
  Small to large
-------------------------------------------------------------------------------
/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:117
...............................................................................

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:11: FAILED:
  REQUIRE( actual.Size() == expected.size() )
with expansion:
  0 == 10

-------------------------------------------------------------------------------
Operator =
  Large to small
-------------------------------------------------------------------------------
/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:125
...............................................................................

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:11: FAILED:
  REQUIRE( actual.Size() == expected.size() )
with expansion:
  0 == 1000 (0x3e8)

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/str.cpp:137:12: runtime error: addition of unsigned offset to 0x6020000005d0 overflowed to 0x6020000005cf
SUMMARY: UndefinedBehaviorSanitizer: undefined-behavior /Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/str.cpp:137:12 in 
=================================================================
==19438==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6020000005cf at pc 0x00010304df7a bp 0x00030a8b4c60 sp 0x00030a8b4c58
READ of size 1 at 0x6020000005cf thread T0
    #0 0x10304df79 in bool Catch::compareEqual<char, char>(char const&, char const&) catch.hpp:2316
    #1 0x102ce17f7 in Catch::BinaryExpr<char const&, char const&> const Catch::ExprLhs<char const&>::operator==<char>(char const&) catch.hpp:2345
    #2 0x102cf2a4a in C_A_T_C_H_T_E_S_T_20() test_str.cpp:144
    #3 0x102c6f212 in Catch::TestInvokerAsFunction::invoke() const catch.hpp:14328
    #4 0x102c420ad in Catch::TestCase::invoke() const catch.hpp:14167
    #5 0x102c41d0a in Catch::RunContext::invokeActiveTestCase() catch.hpp:13027
    #6 0x102c338fc in Catch::RunContext::runCurrentTest(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&) catch.hpp:13000
    #7 0x102c2f6da in Catch::RunContext::runTest(Catch::TestCase const&) catch.hpp:12761
    #8 0x102c53fc6 in Catch::(anonymous namespace)::TestGroup::execute() catch.hpp:13354
    #9 0x102c50fa2 in Catch::Session::runInternal() catch.hpp:13560
    #10 0x102c4fe02 in Catch::Session::run() catch.hpp:13516
    #11 0x102cded5d in int Catch::Session::run<char>(int, char const* const*) catch.hpp:13238
    #12 0x102cde8ab in main catch.hpp:17533
    #13 0x203c3f51d in start+0x1cd (dyld:x86_64+0x551d)
    #14 0x203c39fff  (<unknown module>)

0x6020000005cf is located 1 bytes to the left of 11-byte region [0x6020000005d0,0x6020000005db)
allocated by thread T0 here:
    #0 0x10ceb237d in wrap__Znam+0x7d (libclang_rt.asan_osx_dynamic.dylib:x86_64+0x5437d)
    #1 0x10305fa32 in String::Reserve(unsigned long) const str.cpp:29
    #2 0x103060025 in String::Resize(unsigned long, char) str.cpp:47
    #3 0x10306047a in String::String(char const*) str.cpp:59
    #4 0x103060510 in String::String(char const*) str.cpp:57
    #5 0x102cf1055 in C_A_T_C_H_T_E_S_T_20() test_str.cpp:135
    #6 0x102c6f212 in Catch::TestInvokerAsFunction::invoke() const catch.hpp:14328
    #7 0x102c420ad in Catch::TestCase::invoke() const catch.hpp:14167
    #8 0x102c41d0a in Catch::RunContext::invokeActiveTestCase() catch.hpp:13027
    #9 0x102c338fc in Catch::RunContext::runCurrentTest(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&) catch.hpp:13000
    #10 0x102c2f6da in Catch::RunContext::runTest(Catch::TestCase const&) catch.hpp:12761
    #11 0x102c53fc6 in Catch::(anonymous namespace)::TestGroup::execute() catch.hpp:13354
    #12 0x102c50fa2 in Catch::Session::runInternal() catch.hpp:13560
    #13 0x102c4fe02 in Catch::Session::run() catch.hpp:13516
    #14 0x102cded5d in int Catch::Session::run<char>(int, char const* const*) catch.hpp:13238
    #15 0x102cde8ab in main catch.hpp:17533
    #16 0x203c3f51d in start+0x1cd (dyld:x86_64+0x551d)
    #17 0x203c39fff  (<unknown module>)

SUMMARY: AddressSanitizer: heap-buffer-overflow catch.hpp:2316 in bool Catch::compareEqual<char, char>(char const&, char const&)
Shadow bytes around the buggy address:
  0x1c0400000060: fa fa fd fd fa fa 00 00 fa fa fd fa fa fa 00 00
  0x1c0400000070: fa fa fd fa fa fa 00 00 fa fa 00 00 fa fa fd fa
  0x1c0400000080: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  0x1c0400000090: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
  0x1c04000000a0: fa fa fd fd fa fa fd fd fa fa fd fd fa fa fd fd
=>0x1c04000000b0: fa fa fd fd fa fa 00 00 fa[fa]00 03 fa fa fa fa
  0x1c04000000c0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x1c04000000d0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x1c04000000e0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x1c04000000f0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x1c0400000100: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==19438==ABORTING
-------------------------------------------------------------------------------
Type traits
-------------------------------------------------------------------------------
/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:134
...............................................................................

/Users/gera/cpp-2022-sudo-gera/CppLanguage/tasks/str/test_str.cpp:134: FAILED:
  {Unknown expression after the reported line}
due to a fatal error condition:
  SIGABRT - Abort (abnormal termination) signal

===============================================================================
test cases:  5 |  1 passed | 4 failed
assertions: 55 | 47 passed | 8 failed

<end of output>
Test time =   2.01 sec
----------------------------------------------------------
Test Failed.
"test_str" end time: Nov 19 22:06 MSK
"test_str" time elapsed: 00:00:02
----------------------------------------------------------

End testing: Nov 19 22:06 MSK
